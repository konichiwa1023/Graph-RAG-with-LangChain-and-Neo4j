from langchain_neo4j import Neo4jVector

# Create a vector store from the existing graph
line_retriever = Neo4jVector.from_existing_graph(
    embedding=embeddings,
    url=NEO4J_URL, username=NEO4J_USERNAME, password=NEO4J_PASSWORD,
    index_name="lines_index",
    node_label="Line",
    embedding_node_property="embedding",
    text_node_properties=["text"],
)

results = line_retriever.similarity_search_with_score("Biting a finger", k=3)

for result in results:
    print(result[0].page_content)
